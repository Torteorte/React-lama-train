{"version":3,"sources":["components/common/FormControls/FormsControl.jsx","Validators/validators.js","components/common/FormControls/FormsControl.module.css","components/common/ButtonGreen/ButtonGreen.jsx","components/common/ButtonGreen/ButtonGreen.module.css","hoc/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["FormControl","input","meta","props","child","hasError","touched","error","className","styles","formControl","children","TextArea","restProps","Input","createField","component","name","type","placeholder","validators","text","validate","required","value","requiredWriteSomething","maxLengthCreator","maxLength","length","module","exports","ButtonGreen","buttonGreen","textButton","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","DialogItem","id","dialog","src","alt","Message","message","maxLength50","MessageReduxForm","reduxForm","form","sendMessage","action","onSubmit","handleSubmit","Field","newMessageText","Dialogs","dialogsElements","dialogsData","map","messagesElements","messagesData","mes","dialogs","dialogsItems","messages","values","sendMessageAC","compose","dialogsPage"],"mappings":"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","file":"static/js/5.a43ffdd0.chunk.js","sourcesContent":["import styles from './FormsControl.module.css'\r\nimport { Field } from \"redux-form\";\r\n\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n\r\n   let hasError = meta.touched && meta.error\r\n\r\n   return (\r\n      <div className={styles.formControl + \" \" + (hasError ? styles.error : '')}>\r\n         <div>\r\n            {props.children}\r\n         </div>\r\n         {hasError && <span>{meta.error}</span>}\r\n      </div>\r\n   )\r\n}\r\n\r\nexport const TextArea = (props) => {\r\n   const { input, meta, child, ...restProps } = props;\r\n   return <FormControl {...props}> <textarea {...input} {...restProps} /> </FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n   const { input, meta, child, ...restProps } = props;\r\n   return <FormControl {...props}> <input {...input} {...restProps} /> </FormControl>\r\n}\r\n\r\nexport const createField = (component, name, type, placeholder, validators, text = \"\", props = {}) => (\r\n   <div>\r\n      <Field\r\n         component={component}\r\n         name={name}\r\n         type={type}\r\n         placeholder={placeholder}\r\n         validate={validators}\r\n         {...props}\r\n      /> {text}\r\n   </div>\r\n)","export const required = (value) => {\r\n   if (value) return undefined\r\n   return \"Field is required\"\r\n}\r\n\r\nexport const requiredWriteSomething = (value) => {\r\n   if (value) return undefined\r\n   return \" \"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n   if (value.length > maxLength) {\r\n      return `Max length is ${maxLength} symbols`\r\n   }\r\n   return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__3vb6c\",\"error\":\"FormsControl_error__3Krxq\"};","import styles from './ButtonGreen.module.css'\r\n\r\nconst ButtonGreen = (props) => {\r\n   return (\r\n      <div>\r\n         <button className={styles.buttonGreen}>{props.textButton}</button>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default ButtonGreen","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonGreen\":\"ButtonGreen_buttonGreen__1YwX4\"};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n   return {\r\n      isAuth: state.auth.isAuth\r\n   }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n   class RedirectComponent extends React.Component {\r\n      render() {\r\n         if (!this.props.isAuth) return <Redirect to=\"/login\" />\r\n         return <Component {...this.props} />\r\n      }\r\n   }\r\n\r\n   let connectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n   return connectedAuthRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__w4wQk\",\"dialogsItems\":\"Dialogs_dialogsItems__2z3A6\",\"dialog\":\"Dialogs_dialog__10H4p\",\"messages\":\"Dialogs_messages__2fyck\",\"message\":\"Dialogs_message__1da__\",\"sendMessage\":\"Dialogs_sendMessage__23Mxe\",\"sendMessageButton\":\"Dialogs_sendMessageButton__2mQ3J\"};","import React from \"react\";\r\nimport styles from \"./../Dialogs.module.css\";\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n   return (\r\n      <div>\r\n         <NavLink to={`/dialogs/${props.id}`} className={styles.dialog}>\r\n            <img src={props.src} alt=\"avatar\" />\r\n            <p>{props.name}</p>\r\n         </NavLink>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport styles from \"./../Dialogs.module.css\";\r\n\r\n\r\nconst Message = (props) => {\r\n   return (\r\n      <div className={styles.message}>{props.message}</div>\r\n   )\r\n}\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport styles from \"./Dialogs.module.css\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { maxLengthCreator, requiredWriteSomething } from \"../../Validators/validators\";\r\nimport { TextArea } from \"../common/FormControls/FormsControl\";\r\nimport ButtonGreen from \"../common/ButtonGreen/ButtonGreen\";\r\n\r\nconst Dialogs = (props) => {\r\n\r\n   let dialogsElements = props.dialogsData\r\n      .map(dialog => <DialogItem name={dialog.name} id={dialog.id} src={dialog.src} key={dialog.id} />)\r\n\r\n   let messagesElements = props.messagesData\r\n      .map(mes => <Message message={mes.message} id={mes.id} key={mes.id} />)\r\n\r\n   let addNewMessage = (values) => {\r\n      props.sendMessageAC(values.newMessageText)\r\n   }\r\n\r\n   if (!props.isAuth) return <Redirect to=\"/login\" />\r\n\r\n   return (\r\n      <div className={styles.dialogs}>\r\n         <div className={styles.dialogsItems}>\r\n            {dialogsElements}\r\n         </div>\r\n\r\n         <div className={styles.messages}>\r\n            {messagesElements}\r\n            <MessageReduxForm onSubmit={addNewMessage} />\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\nconst AddMessageForm = (props) => {\r\n   return (\r\n      <div className={styles.sendMessage}>\r\n         <form action=\"\" onSubmit={props.handleSubmit}>\r\n            <Field\r\n               component={TextArea}\r\n               name=\"newMessageText\"\r\n               value={props.newMessageText}\r\n               placeholder=\"Enter your message\"\r\n               validate={[requiredWriteSomething, maxLength50]} />\r\n            <ButtonGreen textButton=\"Send\" />\r\n\r\n         </form>\r\n      </div>\r\n   )\r\n}\r\n\r\nconst MessageReduxForm = reduxForm({\r\n   form: 'AddMessageForm'\r\n})(AddMessageForm)\r\n\r\nexport default Dialogs;\r\n","// import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { sendMessageAC } from \"../../redux/dialogs_reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\n\r\nlet mapStateToProps = (state) => {\r\n   return {\r\n      messagesData: state.dialogsPage.messagesData,\r\n      dialogsData: state.dialogsPage.dialogsData,\r\n      newMessageText: state.dialogsPage.newMessageText\r\n   }\r\n}\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//    return {\r\n//       sendMessage: (newMessageBody) => {\r\n//          dispatch(sendMessageAC(newMessageBody))\r\n//       }\r\n//    }\r\n// }\r\n\r\nexport default compose(\r\n   withAuthRedirect,\r\n   connect(mapStateToProps, { sendMessageAC })\r\n)(Dialogs)"],"sourceRoot":""}